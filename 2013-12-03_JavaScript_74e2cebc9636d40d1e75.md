<!--
title:   Javascriptでスクレイピング
tags:    JavaScript
id:      74e2cebc9636d40d1e75
private: false
-->
# クロスドメイン制限
- ドメインが異なるサイトをJSからスクレイピング(xhrで取るとか）は制限される。
- 取得先のコンテンツがレスポンスヘッダーで`Access-Control-Allow-Origin`(ACAO)を返し、かつ実行JSがホストされているドメインがこのACAOリストに該当していればOK。
- `jquery.xdomainajax.js`を使うとクロスドメインできるが、インターネット上で公開されているサイトに限られる（イントラ限定コンテンツなどはNG）。内部で`Yahoo Query Language`を呼び出してそのレスポンスとして対象ページのコンテンツを取得している。[Yahoo! Query Language - YDN](http://developer.yahoo.com/yql/)

# Related Articles
- [[jQueryで仕事効率化（スクレイピング）] by シロのITメモ](http://shiroit.blog.fc2.com/blog-entry-33.html)
- [Javascriptスクレイピング！jquery.xdomainajax.js-ITかあさん](http://www.kaasan.info/archives/1858)
- [PhantomJS でログインが必要なページでも自由自在にスクレイピング - 凹みTips](http://d.hatena.ne.jp/hecomi/20121229/1356785834)
- [casperJSでwebスクレイピング | THE SPORTS BUSINESS](http://thesportsbusiness.jp/archives/189)

# Reference
- [jquery.fn/cross-domain-ajax at master · padolsey/jquery.fn](https://github.com/padolsey/jquery.fn/tree/master/cross-domain-ajax)
- [Yahoo! Query Language - YDN](http://developer.yahoo.com/yql/)